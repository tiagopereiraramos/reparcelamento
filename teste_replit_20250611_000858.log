2025-06-11 00:08:58,267 - TesteReplitDetalhado - INFO - ğŸš€ INICIANDO TESTE REPLIT DETALHADO
2025-06-11 00:08:58,268 - TesteReplitDetalhado - INFO - ================================================================================
2025-06-11 00:08:58,268 - TesteReplitDetalhado - INFO - ğŸ“… Data/Hora: 11/06/2025 00:08:58
2025-06-11 00:08:58,268 - TesteReplitDetalhado - INFO - ğŸ“ Fonte dados: saldo_devedor_presente-20250610-093716.xlsx
2025-06-11 00:08:58,268 - TesteReplitDetalhado - INFO - ================================================================================
2025-06-11 00:09:58,349 - TesteReplitDetalhado - WARNING - âš ï¸ Erro ao registrar teste no MongoDB: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6848c91aabc37d79267715e3, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
2025-06-11 00:09:58,349 - TesteReplitDetalhado - INFO - ğŸ“Š CARREGANDO ARQUIVO EXCEL REAL
2025-06-11 00:09:58,349 - TesteReplitDetalhado - INFO -    ğŸ“ Arquivo: /home/runner/workspace/saldo_devedor_presente-20250610-093716.xlsx
2025-06-11 00:09:58,458 - TesteReplitDetalhado - INFO - âœ… REGRA CARREGAMENTO: ARQUIVO_EXCEL_VALIDO
2025-06-11 00:09:58,458 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: Arquivo deve existir e ser legÃ­vel
2025-06-11 00:09:58,458 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: /home/runner/workspace/saldo_devedor_presente-20250610-093716.xlsx
2025-06-11 00:09:58,458 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: Carregado com sucesso - 26 registros
2025-06-11 00:09:58,459 - TesteReplitDetalhado - DEBUG -    ğŸ” total_registros: 26
2025-06-11 00:09:58,459 - TesteReplitDetalhado - DEBUG -    ğŸ” colunas: ['TÃ­tulo', 'Parcela/Sequencial', 'Parcela/CondiÃ§Ã£o', 'CÃ³d. empresa', 'Empresa', 'CÃ³d. centro de custo', 'Centro de custo', 'Documento', 'NÂº documento', 'CÃ³d. cliente', 'Cliente', 'Status da parcela', 'Tipo condiÃ§Ã£o', 'Data vencimento', 'Valor original', 'Indexador', 'CorreÃ§Ã£o monetÃ¡ria', 'Juros contratuais', 'Valor atualizado', 'Taxa administrativa', 'Seguro', 'Valor corrigido', 'Data base de juros', 'Juros %', 'Tipo de juros', 'Data base correÃ§Ã£o', 'Data correÃ§Ã£o', 'Dias para desconto VP', 'Juros VP %', 'Valor presente', 'Valor desconto comercial', 'Dias de atraso', 'Multa %', 'Juros de mora', 'Valor de acrÃ©scimo', 'Valor a receber', 'Data da baixa', 'Valor da baixa', 'Recebimento lÃ­quido']
2025-06-11 00:09:58,459 - TesteReplitDetalhado - DEBUG -    ğŸ” tamanho_arquivo: 10224
2025-06-11 00:09:58,459 - TesteReplitDetalhado - INFO - ğŸ” ANÃLISE DETALHADA DOS DADOS EXCEL
2025-06-11 00:09:58,459 - TesteReplitDetalhado - INFO - ============================================================
2025-06-11 00:09:58,459 - TesteReplitDetalhado - INFO - âœ… REGRA VALIDACAO_ESTRUTURA: COLUNAS_OBRIGATORIAS
2025-06-11 00:09:58,459 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: Arquivo deve conter colunas essenciais para processamento
2025-06-11 00:09:58,459 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: ['Parcela/Sequencial', 'CÃ³d. centro de custo', 'Valor original', 'Documento', 'Status da parcela']
2025-06-11 00:09:58,459 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: Encontradas 5/5 colunas
2025-06-11 00:09:58,459 - TesteReplitDetalhado - DEBUG -    ğŸ” colunas_presentes: ['Parcela/Sequencial', 'CÃ³d. centro de custo', 'Valor original', 'Documento', 'Status da parcela']
2025-06-11 00:09:58,460 - TesteReplitDetalhado - DEBUG -    ğŸ” colunas_ausentes: []
2025-06-11 00:09:58,460 - TesteReplitDetalhado - DEBUG -    ğŸ” todas_colunas_arquivo: ['TÃ­tulo', 'Parcela/Sequencial', 'Parcela/CondiÃ§Ã£o', 'CÃ³d. empresa', 'Empresa', 'CÃ³d. centro de custo', 'Centro de custo', 'Documento', 'NÂº documento', 'CÃ³d. cliente', 'Cliente', 'Status da parcela', 'Tipo condiÃ§Ã£o', 'Data vencimento', 'Valor original', 'Indexador', 'CorreÃ§Ã£o monetÃ¡ria', 'Juros contratuais', 'Valor atualizado', 'Taxa administrativa', 'Seguro', 'Valor corrigido', 'Data base de juros', 'Juros %', 'Tipo de juros', 'Data base correÃ§Ã£o', 'Data correÃ§Ã£o', 'Dias para desconto VP', 'Juros VP %', 'Valor presente', 'Valor desconto comercial', 'Dias de atraso', 'Multa %', 'Juros de mora', 'Valor de acrÃ©scimo', 'Valor a receber', 'Data da baixa', 'Valor da baixa', 'Recebimento lÃ­quido']
2025-06-11 00:09:58,462 - TesteReplitDetalhado - INFO - âœ… REGRA VALIDACAO_ELEGIBILIDADE: LIMITE_INADIMPLENCIA_PDD
2025-06-11 00:09:58,462 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: Cliente com 3 ou mais parcelas CT vencidas = INADIMPLENTE
2025-06-11 00:09:58,462 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: 0
2025-06-11 00:09:58,462 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: PODE reparcelar
2025-06-11 00:09:58,462 - TesteReplitDetalhado - DEBUG -    ğŸ” qtd_ct_vencidas: 0
2025-06-11 00:09:58,462 - TesteReplitDetalhado - DEBUG -    ğŸ” limite_pdd: 3
2025-06-11 00:09:58,462 - TesteReplitDetalhado - DEBUG -    ğŸ” status_cliente: ADIMPLENTE
2025-06-11 00:09:58,462 - TesteReplitDetalhado - DEBUG -    ğŸ” parcelas_ct_detalhes: []
2025-06-11 00:09:58,462 - TesteReplitDetalhado - INFO - âŒ REGRA CALCULO_FINANCEIRO: SALDO_TOTAL
2025-06-11 00:09:58,463 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: Soma de todos os valores pendentes
2025-06-11 00:09:58,463 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: 0.0
2025-06-11 00:09:58,463 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: R$ 0.00
2025-06-11 00:09:58,464 - TesteReplitDetalhado - DEBUG -    ğŸ” saldo_formatado: R$ 0.00
2025-06-11 00:09:58,464 - TesteReplitDetalhado - DEBUG -    ğŸ” total_parcelas: 26
2025-06-11 00:09:58,464 - TesteReplitDetalhado - DEBUG -    ğŸ” valor_medio_parcela: 0.0
2025-06-11 00:09:58,464 - TesteReplitDetalhado - INFO - ğŸ’° CÃLCULO DETALHADO DO REPARCELAMENTO
2025-06-11 00:09:58,464 - TesteReplitDetalhado - INFO - ============================================================
2025-06-11 00:09:58,464 - TesteReplitDetalhado - INFO - âœ… REGRA CALCULO_REPARCELAMENTO: INDICE_ECONOMICO_PDD
2025-06-11 00:09:58,464 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: SEMPRE usar IGP-M conforme especificaÃ§Ã£o PDD
2025-06-11 00:09:58,464 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: IGP-M: 3.89%
2025-06-11 00:09:58,464 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: Ãndice IGP-M 3.89% serÃ¡ aplicado
2025-06-11 00:09:58,465 - TesteReplitDetalhado - DEBUG -    ğŸ” indice_escolhido: IGP-M
2025-06-11 00:09:58,465 - TesteReplitDetalhado - DEBUG -    ğŸ” valor_percentual: 3.89
2025-06-11 00:09:58,465 - TesteReplitDetalhado - DEBUG -    ğŸ” periodo_referencia: Dezembro/2024
2025-06-11 00:09:58,465 - TesteReplitDetalhado - DEBUG -    ğŸ” ipca_disponivel: 4.62
2025-06-11 00:09:58,465 - TesteReplitDetalhado - DEBUG -    ğŸ” motivo_escolha: ObrigatÃ³rio conforme PDD
2025-06-11 00:09:58,465 - TesteReplitDetalhado - INFO - âŒ REGRA CALCULO_REPARCELAMENTO: CALCULO_NOVO_SALDO
2025-06-11 00:09:58,465 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: Saldo atual Ã— (1 + IGP-M/100)
2025-06-11 00:09:58,465 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: R$ 0.00 Ã— 1.0389
2025-06-11 00:09:58,465 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: R$ 0.00
2025-06-11 00:09:58,465 - TesteReplitDetalhado - DEBUG -    ğŸ” saldo_anterior: 0.0
2025-06-11 00:09:58,466 - TesteReplitDetalhado - DEBUG -    ğŸ” fator_correcao: 1.0389
2025-06-11 00:09:58,466 - TesteReplitDetalhado - DEBUG -    ğŸ” novo_saldo: 0.0
2025-06-11 00:09:58,466 - TesteReplitDetalhado - DEBUG -    ğŸ” diferenca_valor: 0.0
2025-06-11 00:09:58,466 - TesteReplitDetalhado - DEBUG -    ğŸ” percentual_aumento: 0
2025-06-11 00:09:58,466 - TesteReplitDetalhado - INFO - âœ… REGRA CONFIGURACAO_PDD: PARAMETRO_TIPO_CONDICAO
2025-06-11 00:09:58,466 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: Valor tipo_condicao deve ser fixo conforme PDD
2025-06-11 00:09:58,466 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: PM
2025-06-11 00:09:58,466 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: Configurado: PM
2025-06-11 00:09:58,466 - TesteReplitDetalhado - DEBUG -    ğŸ” parametro: tipo_condicao
2025-06-11 00:09:58,466 - TesteReplitDetalhado - DEBUG -    ğŸ” valor_configurado: PM
2025-06-11 00:09:58,466 - TesteReplitDetalhado - INFO - âœ… REGRA CONFIGURACAO_PDD: PARAMETRO_INDEXADOR
2025-06-11 00:09:58,467 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: Valor indexador deve ser fixo conforme PDD
2025-06-11 00:09:58,467 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: IGP-M
2025-06-11 00:09:58,467 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: Configurado: IGP-M
2025-06-11 00:09:58,467 - TesteReplitDetalhado - DEBUG -    ğŸ” parametro: indexador
2025-06-11 00:09:58,467 - TesteReplitDetalhado - DEBUG -    ğŸ” valor_configurado: IGP-M
2025-06-11 00:09:58,467 - TesteReplitDetalhado - INFO - âœ… REGRA CONFIGURACAO_PDD: PARAMETRO_TIPO_JUROS
2025-06-11 00:09:58,467 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: Valor tipo_juros deve ser fixo conforme PDD
2025-06-11 00:09:58,467 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: Fixo
2025-06-11 00:09:58,467 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: Configurado: Fixo
2025-06-11 00:09:58,467 - TesteReplitDetalhado - DEBUG -    ğŸ” parametro: tipo_juros
2025-06-11 00:09:58,467 - TesteReplitDetalhado - DEBUG -    ğŸ” valor_configurado: Fixo
2025-06-11 00:09:58,468 - TesteReplitDetalhado - INFO - âœ… REGRA CONFIGURACAO_PDD: PARAMETRO_PERCENTUAL_JUROS
2025-06-11 00:09:58,468 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: Valor percentual_juros deve ser fixo conforme PDD
2025-06-11 00:09:58,468 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: 8.0
2025-06-11 00:09:58,468 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: Configurado: 8.0
2025-06-11 00:09:58,468 - TesteReplitDetalhado - DEBUG -    ğŸ” parametro: percentual_juros
2025-06-11 00:09:58,468 - TesteReplitDetalhado - DEBUG -    ğŸ” valor_configurado: 8.0
2025-06-11 00:09:58,468 - TesteReplitDetalhado - INFO - âœ… REGRA CONFIGURACAO_PDD: DATA_PRIMEIRO_VENCIMENTO
2025-06-11 00:09:58,468 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: PrÃ³ximo mÃªs, dia 15
2025-06-11 00:09:58,468 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: 15/07/2025
2025-06-11 00:09:58,468 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: 1Âº vencimento: 15/07/2025
2025-06-11 00:09:58,469 - TesteReplitDetalhado - DEBUG -    ğŸ” data_calculada: 2025-07-15
2025-06-11 00:09:58,469 - TesteReplitDetalhado - DEBUG -    ğŸ” data_referencia: 2025-06-11
2025-06-11 00:09:58,469 - TesteReplitDetalhado - DEBUG -    ğŸ” regra_aplicada: PrÃ³ximo mÃªs dia 15
2025-06-11 00:09:58,469 - TesteReplitDetalhado - INFO - âœ… REGRA CALCULO_REPARCELAMENTO: QUANTIDADE_PARCELAS
2025-06-11 00:09:58,469 - TesteReplitDetalhado - INFO -    ğŸ“‹ CritÃ©rio: Manter nÃºmero de parcelas pendentes
2025-06-11 00:09:58,469 - TesteReplitDetalhado - INFO -    ğŸ“Š Valor avaliado: 26
2025-06-11 00:09:58,469 - TesteReplitDetalhado - INFO -    ğŸ¯ Resultado: 26 parcelas Ã— R$ 0.00
2025-06-11 00:09:58,469 - TesteReplitDetalhado - DEBUG -    ğŸ” quantidade_parcelas: 26
2025-06-11 00:09:58,469 - TesteReplitDetalhado - DEBUG -    ğŸ” valor_parcela_estimado: 0.0
2025-06-11 00:09:58,469 - TesteReplitDetalhado - DEBUG -    ğŸ” valor_total: 0.0
2025-06-11 00:10:28,889 - TesteReplitDetalhado - WARNING - âš ï¸ Erro ao atualizar resultado no MongoDB: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 6848c91aabc37d79267715e3, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
2025-06-11 00:10:28,889 - TesteReplitDetalhado - INFO - 
ğŸ“Š RESUMO FINAL DO TESTE
2025-06-11 00:10:28,889 - TesteReplitDetalhado - INFO - ============================================================
2025-06-11 00:10:28,890 - TesteReplitDetalhado - INFO - ğŸ“‹ Contrato: TESTE_REPLIT_001
2025-06-11 00:10:28,890 - TesteReplitDetalhado - INFO - ğŸ‘¤ Cliente: CLIENTE TESTE EXCEL REAL
2025-06-11 00:10:28,890 - TesteReplitDetalhado - INFO - ğŸ¯ Status: ADIMPLENTE
2025-06-11 00:10:28,890 - TesteReplitDetalhado - INFO - âœ… Pode reparcelar: SIM
2025-06-11 00:10:28,890 - TesteReplitDetalhado - INFO - ğŸ“ˆ Regras processadas: 12
2025-06-11 00:10:28,890 - TesteReplitDetalhado - INFO - âœ… Regras aprovadas: 10
2025-06-11 00:10:28,890 - TesteReplitDetalhado - INFO - âŒ Regras reprovadas: 2
2025-06-11 00:10:28,891 - TesteReplitDetalhado - INFO - ğŸ’° Novo saldo: R$ 0.00
2025-06-11 00:10:28,891 - TesteReplitDetalhado - INFO - ğŸ“Š Parcelas: 26
2025-06-11 00:10:28,891 - TesteReplitDetalhado - INFO - ğŸ“… 1Âº vencimento: 15/07/2025
2025-06-11 00:10:28,891 - TesteReplitDetalhado - INFO - ğŸ“ˆ Ãndice aplicado: IGP-M 3.89%
2025-06-11 00:10:28,891 - TesteReplitDetalhado - INFO - ============================================================
2025-06-11 00:10:28,894 - TesteReplitDetalhado - INFO - ğŸ“„ RelatÃ³rio salvo em: relatorio_teste_replit_20250611_001028.json
